<script>
	const toggle_btn = document.querySelector('#hamburger');
	const nav = document.querySelector('#primary_nav');

	toggle_btn.addEventListener('click', () => {
		const expanded = toggle_btn.getAttribute('aria-expanded') === 'true';
		toggle_btn.setAttribute('aria-expanded', `${!expanded}`);
		nav.classList.toggle('open');
	});
</script>

<div class="bg-pink-200 w-screen border-b-4 border-pink-600 sticky top-0 isolate">
	<div class="wrapper mx-auto font-condensed flex justify-between items-center">
		<div class="logo relative z-10">
			<a href="/" class="text-3xl text-pink-900 uppercase py-5 block" title="Hompage Link">
				Suzanne's<span class="text-slate-900">Dance</span>
			</a>
		</div>

		<div>
			<button id="hamburger" class="group" aria-expanded="false">
				<svg
					viewBox="0 0 100 100"
					width="26"
					class="fill-pink-700 group-aria-[expanded='true']:fill-pink-100"
				>
					<rect class="line top" width="100" height="10" rx="5" x="0" y="15"></rect>
					<rect class="line middle" width="100" height="10" rx="5" x="0" y="45"></rect>
					<rect class="line bottom" width="100" height="10" rx="5" x="0" y="75"></rect>
				</svg>
			</button>
		</div>

		<nav id="primary_nav">
			<a href="/classes" title="Classes" class="">Classes</a>
			<a href="/jumpin-jitney" title="Jumpin' Jitney" class="">Jumpin' Jitney</a>
			<a href="/parties" title="Parties" class="">Parties</a>
			<a href="/merch" title="Merch" class="">Merch</a>
			<a href="/camp" title="Camp" class="">Camp</a>
		</nav>
	</div>
</div>

<style>
	nav {
		font-family: theme('fontFamily.condensed');
		justify-content: flex-end;
		position: absolute;
		top: 0;
		right: 0;
		width: min(480px, 100%);
		height: 100dvh;
		background: theme('colors.pink.200');
		font-size: theme('fontSize.4xl');
		translate: 100% 0;
		transition: translate 300ms;
		padding-top: theme('spacing.16');
		z-index: 1;

		&.open {
			translate: 0 0;
		}

		@screen xl {
			display: flex;
			font-size: theme('fontSize.3xl');
			flex: 1;
			position: static;
			width: auto;
			height: auto;
			padding-top: 0;
			translate: 0 0;
		}
		a {
			padding: theme('spacing.5');
			transition: all 200ms;
			display: block;

			&:hover {
				background: theme('colors.pink.600');
				color: theme('colors.pink.100');
			}
		}
	}

	#hamburger {
		position: relative;
		z-index: 3;
		width: 50px;
		height: 50px;
		border-radius: theme('borderRadius.2xl');
		display: flex;
		justify-content: center;
		align-items: center;
		overflow: hidden;
		overflow: clip;
		padding: 5px;
		transition: background 250ms, translate 250ms;

		@screen xl {
			display: none;
		}

		.line {
			transition: y 200ms ease-in 200ms, rotate 200ms ease-in, opacity 0ms 200ms;
			transform-origin: center;
		}

		&[aria-expanded='true'] {
			background: theme('colors.rose.500');

			.line {
				transition: y 200ms ease-in, rotate 200ms ease-in 200ms, opacity 0ms 200ms;
			}

			.top,
			.bottom {
				y: 45;
			}

			.top {
				rotate: 45deg;
			}
			.middle {
				opacity: 0;
			}
			.bottom {
				rotate: -45deg;
			}
		}
	}
</style>
